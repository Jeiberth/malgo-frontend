import{_ as v,r as c,j as f,i as g,k as _,c as r,b as p,d as e,F as m,p as b,o as i,t as w,w as k,z as x}from"./index-Dnv4c8ld.js";const y={class:"container"},S={key:0,class:"position-fixed start-0 w-100 h-100 d-flex justify-content-center align-items-center",style:{background:"rgba(0, 0, 0, 0.5)","z-index":"1050",top:"0px"}},P={class:"row seccion mainSeccion mt-4"},A={class:"col-12"},E={style:{"overflow-x":"auto"}},C={class:"table table-bordered table-hover align-middle text-center custom-big-table",style:{"border-radius":"25px",overflow:"hidden"}},H={class:"form-check form-switch d-flex justify-content-center"},V=["onUpdate:modelValue","checked","onChange"],j={key:0},B={__name:"properties",setup(N){const l=g(),d=new _,s=c([]),n=c(!1);c(null),f(async()=>{n.value=!0,s.value=l.getters.getProperties,s.value.length==0&&await d.getAllProperties().then(o=>{o&&o.success?(l.commit("setProperties",o.data),s.value=l.getters.getProperties,console.log(s.value)):Swal.fire("Error","Hubo un error, intenta de nuevo","error")}).catch(o=>{Swal.fire("Error","Hubo un error, intenta de nuevo","error")}),n.value=!1});const h=async o=>{n.value=!0,await d.switchPropertyApplications({accepting_applications:o.accepting_applications,id:o.id}).then(t=>{t&&t.success?o.accepting_applications=t.data:Swal.fire("Error","Hubo un error, intenta de nuevo","error")}).catch(t=>{Swal.fire("Error","Hubo un error, intenta de nuevo","error")}),n.value=!1};return(o,t)=>(i(),r("div",y,[n.value?(i(),r("div",S,t[0]||(t[0]=[e("div",{class:"spinner-border text-light",role:"status"},[e("span",{class:"visually-hidden"})],-1)]))):p("",!0),e("div",P,[t[3]||(t[3]=e("div",{class:"col-12"},[e("h2",{class:"titulo-seccion"},"🏠 Propiedades")],-1)),e("div",A,[e("div",E,[e("table",C,[t[2]||(t[2]=e("thead",{style:{"background-color":"#8f754f",color:"white"}},[e("tr",null,[e("th",null,"SKU"),e("th",null,"Aceptando Aplicaciones")])],-1)),e("tbody",null,[(i(!0),r(m,null,b(s.value,a=>(i(),r("tr",{key:a.sku},[e("td",null,w(a.sku),1),e("td",null,[e("div",H,[k(e("input",{class:"form-check-input",type:"checkbox",role:"switch","onUpdate:modelValue":u=>a.accepting_applications=u,checked:a.accepting_applications==1,onChange:u=>h(a),style:{width:"3em",height:"1.5em"}},null,40,V),[[x,a.accepting_applications]])])])]))),128)),s.value.length===0?(i(),r("tr",j,t[1]||(t[1]=[e("td",{colspan:"2",class:"text-center py-4"},"No se encontraron propiedades",-1)]))):p("",!0)])])])])])]))}},z=v(B,[["__scopeId","data-v-e5f0e9f4"]]);export{z as default};
