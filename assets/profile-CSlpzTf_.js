import{_ as b,r as u,j as _,i as P,c,b as g,d as e,w as r,v as n,e as x,g as y,h as C,o as p}from"./index-CnROVEP7.js";import{S as l}from"./sweetalert2.esm.all-B0Dix5B2.js";const N={class:"container"},h={key:0,class:"position-fixed start-0 w-100 h-100 d-flex justify-content-center align-items-center",style:{background:"rgba(0, 0, 0, 0.5)","z-index":"1050",top:"0px"}},q={class:"row"},V={class:"col-md-6 mb-4"},B={class:"seccion",style:{"margin-bottom":"0px !important"}},U={class:"contenedor-campos"},k={class:"grupo-campos"},E={class:"campo mb-3"},I={class:"campo mb-3"},A={class:"campo"},R={class:"col-md-6 mb-4"},S={class:"seccion"},j={class:"contenedor-campos"},K={class:"grupo-campos"},M={class:"campo mb-3"},T={class:"campo mb-3"},z={class:"campo mb-4"},D=["disabled"],F={key:0},L={key:1},G={__name:"profile",setup(H){const v=new C,o=u({name:"",email:"",phone_number:""}),w=P(),a=u({currentPassword:"",newPassword:"",repeatNewPassword:""});_(()=>{o.value=w.getters.getUser});const f=u(!1),i=u(!1),m=async()=>{if(a.value.newPassword!==a.value.repeatNewPassword){l.fire({icon:"error",title:"Error",text:"Las contraseñas nuevas no coinciden",confirmButtonColor:"#8f754f"});return}if(!a.value.currentPassword){l.fire({icon:"error",title:"Error",text:"Por favor ingresa tu contraseña actual",confirmButtonColor:"#8f754f"});return}i.value=!0,await v.changePassword({current_password:a.value.currentPassword,new_password_confirmation:a.value.repeatNewPassword,new_password:a.value.newPassword}).then(d=>{d&&d.success?l.fire({icon:"success",title:"Éxito",text:"Contraseña cambiada correctamente",confirmButtonColor:"#8f754f"}):l.fire({icon:"error",title:"Error",text:"Asegúrate de que la nueva contraseña tenga al menos 8 caracteres y que la contraseña actual sea correcta.",confirmButtonColor:"#8f754f"})}).catch(d=>{l.fire({icon:"error",title:"Error",text:"Asegúrate de que la contraseña tenga al menos 8 caracteres y que la contraseña actual sea correcta.",confirmButtonColor:"#8f754f"})}),a.value={currentPassword:"",newPassword:"",repeatNewPassword:""},i.value=!1};return(d,s)=>(p(),c("div",N,[f.value?(p(),c("div",h,s[6]||(s[6]=[e("div",{class:"spinner-border text-light",role:"status"},[e("span",{class:"visually-hidden"})],-1)]))):g("",!0),e("div",q,[e("div",V,[e("div",B,[s[10]||(s[10]=e("h2",{class:"titulo-seccion"},"👤 Información del Usuario",-1)),e("div",U,[e("div",k,[e("div",E,[s[7]||(s[7]=e("label",{class:"etiqueta"},"Nombre",-1)),r(e("input",{type:"text",class:"entrada","onUpdate:modelValue":s[0]||(s[0]=t=>o.value.name=t),disabled:""},null,512),[[n,o.value.name]])]),e("div",I,[s[8]||(s[8]=e("label",{class:"etiqueta"},"Correo Electrónico",-1)),r(e("input",{type:"email",class:"entrada","onUpdate:modelValue":s[1]||(s[1]=t=>o.value.email=t),disabled:""},null,512),[[n,o.value.email]])]),e("div",A,[s[9]||(s[9]=e("label",{class:"etiqueta"},"Numero de telefono",-1)),r(e("input",{type:"text",class:"entrada","onUpdate:modelValue":s[2]||(s[2]=t=>o.value.phone_number=t),disabled:""},null,512),[[n,o.value.phone_number]])])])])])]),e("div",R,[e("div",S,[s[15]||(s[15]=e("h2",{class:"titulo-seccion"},"🔒 Cambiar Contraseña",-1)),e("div",j,[e("div",K,[e("div",M,[s[11]||(s[11]=e("label",{class:"etiqueta"},"Contraseña Actual",-1)),r(e("input",{type:"password",class:"entrada","onUpdate:modelValue":s[3]||(s[3]=t=>a.value.currentPassword=t),placeholder:"Ingresa tu contraseña actual"},null,512),[[n,a.value.currentPassword]])]),e("div",T,[s[12]||(s[12]=e("label",{class:"etiqueta"},"Nueva Contraseña",-1)),r(e("input",{type:"password",class:"entrada","onUpdate:modelValue":s[4]||(s[4]=t=>a.value.newPassword=t),placeholder:"Ingresa tu nueva contraseña"},null,512),[[n,a.value.newPassword]])]),e("div",z,[s[13]||(s[13]=e("label",{class:"etiqueta"},"Repetir Nueva Contraseña",-1)),r(e("input",{type:"password",class:"entrada","onUpdate:modelValue":s[5]||(s[5]=t=>a.value.repeatNewPassword=t),placeholder:"Repite tu nueva contraseña",onKeyup:x(m,["enter"])},null,544),[[n,a.value.repeatNewPassword]])]),e("button",{class:"boton-primario w-100",onClick:m,disabled:i.value},[i.value?(p(),c("span",L,s[14]||(s[14]=[e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),y(" Procesando... ")]))):(p(),c("span",F,"Cambiar Contraseña"))],8,D)])])])])])]))}},Q=b(G,[["__scopeId","data-v-2ad6a886"]]);export{Q as default};
