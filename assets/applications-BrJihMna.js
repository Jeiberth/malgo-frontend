import{_ as ct,j as pt,r as p,i as ft,k as mt,m as L,c as l,b as i,d as t,w as N,x as J,F as c,q as m,n as P,t as s,g as M,v as K,s as v,o as n,y as vt}from"./index-B7gvU3IV.js";import{S as u}from"./sweetalert2.esm.all-B0Dix5B2.js";import{t as bt}from"./tenantApplication-CtwW8M5j.js";const yt={key:0,class:"position-fixed start-0 w-100 h-100 d-flex justify-content-center align-items-center",style:{background:"rgba(0, 0, 0, 0.5)","z-index":"1050",top:"0px"}},_t={class:"container"},ht={key:0,class:"row seccion mt-4 mainSeccion"},gt={class:"col-12 mb-4"},kt={class:"row"},xt={class:"col-6"},wt={class:"campo"},Ct=["value"],Tt={class:"col-6"},Pt={class:"campo"},At=["value"],Et={class:"col-12"},It={class:"grupo-campos"},$t={style:{"overflow-x":"auto","background-color":"transparent"}},Dt={class:"table table-bordered table-hover table-striped align-middle text-center custom-big-table",style:{"border-radius":"25px",overflow:"hidden"}},St=["onClick"],Nt={key:0},Mt={style:{display:"grid","grid-template-columns":"repeat(3, 1fr)",gap:"0px","justify-items":"center"}},zt={style:{"font-size":"12px","line-height":"1","background-color":"white",color:"black",padding:"3px","border-radius":"25px","margin-left":"5px","font-weight":"700"}},qt={key:0},Bt={class:"col-12"},Ft={class:"pagination"},Ht=["onClick"],Vt={key:1,class:"row"},jt={class:"col-12 mb-3 d-flex justify-content-between align-items-center"},Lt={class:"col-12"},Gt={class:"formulario"},Ot={class:"seccion"},Rt={class:"contenedor-campos",style:{gap:"10px !important"}},Ut={class:"grupo-campos"},Jt={style:{"overflow-x":"auto"}},Kt={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden"}},Qt={class:"encabezado-seccion row"},Wt={key:0,class:"titulo-seccion",style:{"padding-left":"18px"}},Xt={key:1,class:"titulo-seccion",style:{"padding-left":"18px"}},Yt={class:"contenedor-campos"},Zt={class:"grupo-campos"},te={style:{"overflow-x":"auto"}},ee={class:"table table-striped custom-border-table table-bordered",style:{"border-radius":"25px",overflow:"hidden"}},oe={class:"grupo-campos"},le={class:"campos-grid"},ne={style:{"overflow-x":"auto"}},ae={class:"table table-striped custom-border-table table-bordered",style:{"border-radius":"25px",overflow:"hidden"}},se={key:0},re={class:"grupo-campos"},ie={class:"campos-grid"},de={style:{"overflow-x":"auto"}},ue={class:"table table-striped custom-border-table table-bordered table-docs",style:{"border-radius":"25px",overflow:"hidden"}},ce={style:{width:"auto"}},pe=["onClick"],fe=["onClick"],me=["onClick"],ve=["onClick"],be=["onClick"],ye=["onClick"],_e=["onClick"],he={key:3},ge={style:{width:"auto"}},ke=["onClick"],xe={key:4},we={style:{width:"auto"}},Ce=["onClick"],Te={key:0,class:"grupo-campos fiador"},Pe={class:"campos-grid"},Ae={style:{"overflow-x":"auto"}},Ee={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden"}},Ie=["onClick"],$e={key:1,class:"grupo-campos"},De={class:"campos-grid",style:{"margin-top":"20px"}},Se={style:{"overflow-x":"auto"}},Ne={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0"}},Me=["onClick"],ze={class:"seccion"},qe={class:"campos-grid",style:{padding:"24px","margin-top":"20px"}},Be={style:{"overflow-x":"auto"}},Fe={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0px"}},He={key:0,class:"seccion"},Ve={class:"campos-grid",style:{padding:"24px","margin-top":"20px"}},je={style:{"overflow-x":"auto"}},Le={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0px"}},Ge={key:1,class:"seccion"},Oe={class:"campos-grid",style:{padding:"24px","margin-top":"20px"}},Re={style:{"overflow-x":"auto"}},Ue={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0px"}},Je={key:0},Ke={key:1},Qe={key:2,class:"seccion"},We={class:"d-flex align-items-center gap-3"},Xe=["disabled"],Ye={class:"modal-content",style:{"max-width":"600px",height:"auto !important"}},Ze={class:"modal-body",style:{padding:"20px"}},to={class:"grupo-campos",style:{"margin-bottom":"0",border:"none",background:"transparent",padding:"0px !important","border-radius":"0 !important"}},eo={class:"campo"},oo={class:"d-flex justify-content-end mt-3"},lo=["disabled"],no={class:"modal-content"},ao={class:"modal-header"},so={class:"modal-title"},ro={class:"modal-body"},io=["src"],uo={__name:"applications",setup(co){const Q=new mt,T=new bt,x=ft();pt(async()=>{b.value=!0,S.value=x.getters.getProperties,S.value.length==0&&await Q.getAllProperties().then(a=>{a&&a.success?(x.commit("setProperties",a.data),S.value=x.getters.getProperties):u.fire("Error","Hubo un error, intenta de nuevo","error")}).catch(a=>{u.fire("Error","Hubo un error, intenta de nuevo","error")}),_.value=x.getters.getTenantApplications,_.value.length==0&&await T.getTenantApplications().then(a=>{a.success?(_.value=a.data,x.commit("setTenantApplications",_.value)):u.fire("Error","Hubo un error, intenta despues.","error")}).catch(a=>{u.fire("Error","Hubo un error, intenta despues.","error")}),b.value=!1});function W(a){return a?new Date(a).toLocaleString():null}const z=p(!1),A=p("");function X(){A.value="",z.value=!0}function q(){z.value=!1}async function Y(){b.value=!0;try{const a=d.value.financial_responsibles[0];await T.requestAdditionalInfo({id:k.value,email:a.email,name:a.full_name,message:A.value}),u.fire({icon:"success",title:"Solicitud Enviada",text:"Su solicitud de información adicional ha sido enviada correctamente",confirmButtonText:"Aceptar"}),q()}catch{u.fire("Error","No se pudo enviar la solicitud","error")}finally{b.value=!1}}async function Z(){try{const a=await T.updateComment({id:k.value,comment:d.value.comment});a&&a.success||u.fire("Error","No se pudo actualizar el comentario","error")}catch{u.fire("Error","No se pudo actualizar el comentario","error")}}async function tt(){const a=await u.fire({title:"¿Estás seguro?",text:"¿Deseas aprobar este aplicante?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, aprobar",cancelButtonText:"No, cancelar",reverseButtons:!0});b.value=!0,a.isConfirmed&&await T.approveTenantApplication({tenantID:k.value}).then(e=>{e&&e.success?e.success?(_.value=e.data,x.commit("setTenantApplications",_.value),u.fire({icon:"success",title:"Aplicacion Aprobada",text:"La aplicacion ha sido aprobada exitosamente y el usuario ha sido notificado",confirmButtonText:"Aceptar"})):u.fire("Error","Hubo un error, intenta despues.","error"):u.fire("Error","Hubo un error, intenta despues.","error")}).catch(e=>{u.fire("Error","Hubo un error, intenta despues.","error")}),b.value=!1}async function et(){const a=await u.fire({title:"¿Estás seguro?",text:"¿Deseas rechazar este aplicante? Esto eliminara toda su informacion de la base de datos y notificara el usario de la decision",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, rechazar",cancelButtonText:"No, cancelar",reverseButtons:!0});b.value=!0,a.isConfirmed&&await T.denyTenantApplication({tenantID:k.value}).then(e=>{e&&e.success?e.success?(_.value=e.data,x.commit("setTenantApplications",_.value),u.fire({icon:"success",title:"Aplicacion Rechazada",text:"La aplicacion ha sido rechazada exitosamente y el usuario ha sido notificado",confirmButtonText:"Aceptar"})):u.fire("Error","Hubo un error, intenta despues.","error"):u.fire("Error","Hubo un error, intenta despues.","error")}).catch(e=>{u.fire("Error","Hubo un error, intenta despues.","error")}),b.value=!1}async function ot(){b.value=!0,await T.saveTenantApplication({tenantID:k.value}).then(a=>{a&&a.success?a.success?(_.value=a.data,x.commit("setTenantApplications",_.value),u.fire({icon:"success",title:"Aplicacion Guardada",text:"La aplicacion ha sido guardada exitosamente",confirmButtonText:"Aceptar"})):u.fire("Error","Hubo un error, intenta despues.","error"):u.fire("Error","Hubo un error, intenta despues.","error")}).catch(a=>{u.fire("Error","Hubo un error, intenta despues.","error")}),b.value=!1}const G=L(()=>(w.value=1,_.value.filter(a=>{const e=!E.value||E.value==="Todas"||a.status===E.value,o=!I.value||I.value==="Todas"||a.property_id===I.value;return e&&o}))),B=p(10),w=p(1),$=L(()=>Math.ceil(G.value.length/B.value)),O=L(()=>{const a=(w.value-1)*B.value,e=a+B.value;return G.value.slice(a,e)}),F=a=>{a>=1&&a<=$.value&&(w.value=a)},b=p(!1),d=p([]),k=p(null),H=p(!1),V=p(""),R=p("");function y(a,e){V.value=a,R.value=e,H.value=!0}function U(){H.value=!1,V.value=""}function D(a){return d.value.parking_needs.filter(e=>e.vehicle_type===a).length}function lt(a){d.value=a,k.value=a.id}function nt(){d.value=null,k.value=null}function at(a){return a.reduce((e,o)=>{var g;let f=parseFloat(o.monthly_salary||0),r=((g=o.additional_incomes)==null?void 0:g.reduce((h,C)=>h+parseFloat(C.monthly_amount||0),0))||0;return e+f+r},0)}function st(a){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(a)}function j(a){return a.financial_responsibles.find(e=>e.principal)}function rt(a){switch(a.toLowerCase()){case"perro":return"fa-solid fa-dog";case"gato":return"fa-solid fa-cat";case"pez":return"fa-solid fa-fish";case"ave":return"fa-solid fa-dove";case"conejo":return"fa-solid fa-carrot";case"tortuga":return"fa-solid fa-shield-cat";case"iguana":return"fa-solid fa-dragon";case"gallina":return"fa-solid fa-kiwi-bird";default:return"fa-solid fa-paw"}}function it(a){switch(a.toLowerCase()){case"hogar":return"fa-solid fa-house-user";case"empleado":return"fa-solid fa-briefcase";case"independiente":return"fa-solid fa-user-tie";case"estudiante":return"fa-solid fa-user-graduate";case"pensionado":return"fa-solid fa-person-cane";default:return"fa-solid fa-user"}}function dt(a){switch(a.toLowerCase()){case"carro":return"fa-solid fa-car";case"moto":return"fa-solid fa-motorcycle";default:return"fa-solid fa-car-side"}}const E=p(""),I=p(""),ut=p(["Todos","Pendiente","Pendiente Contrato","Pendiente Rechazado","Guardado","Guardado Rechazado","En Curso","Terminado"]),S=p(),_=p([]);return(a,e)=>(n(),l(c,null,[b.value?(n(),l("div",yt,e[6]||(e[6]=[t("div",{class:"spinner-border text-light",role:"status"},[t("span",{class:"visually-hidden"})],-1)]))):i("",!0),t("div",_t,[k.value?i("",!0):(n(),l("div",ht,[e[17]||(e[17]=t("div",{class:"col-12"},[t("h2",{class:"titulo-seccion"},"📄Solicitudes de Arrendamiento")],-1)),t("div",gt,[t("div",kt,[t("div",xt,[t("div",wt,[N(t("select",{class:"entrada pr-2","onUpdate:modelValue":e[0]||(e[0]=o=>E.value=o),required:"",style:{"background-color":"#f8f5f0"}},[e[7]||(e[7]=t("option",{value:"",selected:"",disabled:""},"Status",-1)),(n(!0),l(c,null,m(ut.value,o=>(n(),l("option",{key:o,value:o},s(o),9,Ct))),128))],512),[[J,E.value]])])]),t("div",Tt,[t("div",Pt,[N(t("select",{class:"entrada","onUpdate:modelValue":e[1]||(e[1]=o=>I.value=o),required:"",style:{"background-color":"#f8f5f0"}},[e[8]||(e[8]=t("option",{value:"",selected:"",disabled:""},"Propiedades",-1)),e[9]||(e[9]=t("option",{value:"Todas"},"Todas",-1)),(n(!0),l(c,null,m(S.value,o=>(n(),l("option",{key:o,value:o.sku},s(o.sku),9,At))),128))],512),[[J,I.value]])])])])]),t("div",Et,[t("div",It,[t("div",$t,[t("table",Dt,[e[14]||(e[14]=t("thead",{style:{"background-color":"gray !important"}},[t("tr",null,[t("th",null,"Aplicante Principal"),t("th",null,"Co-solicitantes"),t("th",null,"Propiedad"),t("th",null,"Mudanza"),t("th",null,"Ingreso Total"),t("th",null,"Mascotas"),t("th",null,"Inquilinos"),t("th",null,"Parqueadero"),t("th",null,"Status"),t("th",null,"Fecha de solicitud")])],-1)),t("tbody",null,[(n(!0),l(c,null,m(O.value,o=>{var f,r,g;return n(),l("tr",{key:o.id,onClick:h=>lt(o),style:{cursor:"pointer"}},[t("td",null,[t("div",null,[t("strong",null,s((f=j(o))==null?void 0:f.full_name),1),e[11]||(e[11]=t("br",null,null,-1)),t("small",null,[M(s((r=j(o))==null?void 0:r.birthdate),1),e[10]||(e[10]=t("br",null,null,-1)),M(s((g=j(o))==null?void 0:g.nationality),1)])])]),t("td",null,[o.financial_responsibles.length>1?(n(),l("div",Nt,[e[12]||(e[12]=t("i",{class:"fa-solid fa-handshake mr-1",style:{color:"black"}},null,-1)),M(" "+s(o.financial_responsibles.length-1),1)])):i("",!0)]),t("td",null,s(o.property.sku),1),t("td",null,s(o.move_in_date),1),t("td",null,s(st(at(o.financial_responsibles))),1),t("td",null,[(n(!0),l(c,null,m(o.pets,(h,C)=>(n(),l("span",{key:C,class:"mx-1"},[t("i",{class:P(rt(h.type)),style:vt({color:h.sex==="Macho"?"#007bff":"#e83e8c"})},null,6)]))),128))]),t("td",null,[t("div",Mt,[(n(!0),l(c,null,m(o.cohabitants,(h,C)=>(n(),l("span",{key:C,class:"occupation",style:{display:"flex","align-items":"center","justify-content":"center"}},[t("i",{class:P(it(h.occupation)),style:{"font-size":"16px",color:"black"}},null,2),t("span",zt,s(h.age),1)]))),128))])]),t("td",null,[(n(!0),l(c,null,m(o.parking_needs,(h,C)=>(n(),l("span",{key:C,class:"mx-1"},[t("i",{class:P([dt(h.vehicle_type),"text-dark"])},null,2)]))),128))]),t("td",null,s(o.status),1),t("td",null,s(W(o.created_at)??"—"),1)],8,St)}),128)),O.value.length===0?(n(),l("tr",qt,e[13]||(e[13]=[t("td",{colspan:"10",class:"text-center py-4"},"No hay aplicaciones",-1)]))):i("",!0)])])])])]),t("div",Bt,[t("nav",null,[t("ul",Ft,[t("li",{class:P(["page-item",{disabled:w.value===1}])},[t("a",{class:"page-link",onClick:e[2]||(e[2]=o=>F(w.value-1)),href:"#"},e[15]||(e[15]=[t("i",{class:"fa fa-arrow-left"},null,-1)]))],2),(n(!0),l(c,null,m($.value,o=>(n(),l("li",{class:P(["page-item",{active:w.value===o}]),key:o},[t("a",{class:"page-link",onClick:f=>F(o),href:"#"},s(o),9,Ht)],2))),128)),t("li",{class:P(["page-item",{disabled:w.value===$.value||$.value===0}])},[t("a",{class:"page-link",onClick:e[3]||(e[3]=o=>F(w.value+1)),href:"#"},e[16]||(e[16]=[t("i",{class:"fa fa-arrow-right"},null,-1)]))],2)])])])])),k.value?(n(),l("div",Vt,[t("div",jt,[t("button",{style:{width:"40px",height:"40px",border:"0px solid","border-radius":"25px","margin-bottom":"10px","background-color":"#8f754f",color:"white","font-weight":"600"},onClick:nt},e[18]||(e[18]=[t("i",{class:"fa fa-arrow-left"},null,-1)])),t("div",null,[d.value.status=="Pendiente"||d.value.status=="Guardado"?(n(),l("button",{key:0,style:{"margin-right":"10px","background-color":"#28a745",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:tt}," Aprobar ")):i("",!0),d.value.status=="Pendiente"||d.value.status=="Guardado"?(n(),l("button",{key:1,style:{"margin-right":"10px","background-color":"#dc3545",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:et}," Denegar ")):i("",!0),d.value.status=="Pendiente"||d.value.status=="Guardado"?(n(),l("button",{key:2,style:{"margin-right":"10px","background-color":"#e29d36",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:ot}," Guardar ")):i("",!0),t("button",{style:{"background-color":"#1f2687",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:X}," Solicitar Doc ")])]),t("div",Lt,[t("div",Gt,[t("div",Ot,[e[22]||(e[22]=t("h2",{class:"titulo-seccion"},"📌 Información de la Propiedad",-1)),t("div",Rt,[t("div",Ut,[t("div",Jt,[t("table",Kt,[t("tbody",null,[t("tr",null,[e[19]||(e[19]=t("th",{style:{width:"50%"}},"Propiedad de interés",-1)),t("td",null,s(d.value.property.sku),1)]),t("tr",null,[e[21]||(e[21]=t("th",null,"Fecha deseada de mudanza",-1)),t("td",null,[M(s(d.value.move_in_date)+" ",1),e[20]||(e[20]=t("br",null,null,-1))])])])])])])])]),(n(!0),l(c,null,m(d.value.financial_responsibles,(o,f)=>(n(),l("div",{class:"seccion",key:f},[t("div",Qt,[f==0?(n(),l("h2",Wt,"👤 Aplicante principal")):i("",!0),f>0?(n(),l("h2",Xt,"👤 Co-solicitante #"+s(f),1)):i("",!0)]),t("div",Yt,[t("div",Zt,[e[30]||(e[30]=t("h3",{class:"subtitulo"},"Información Personal",-1)),t("div",te,[t("table",ee,[t("tbody",null,[t("tr",null,[e[23]||(e[23]=t("th",{style:{width:"50%"}},"Nombre completo",-1)),t("td",null,s(o.full_name),1)]),t("tr",null,[e[24]||(e[24]=t("th",null,"Correo electrónico",-1)),t("td",null,s(o.email),1)]),t("tr",null,[e[25]||(e[25]=t("th",null,"Número de teléfono",-1)),t("td",null,s(o.phone_number),1)]),t("tr",null,[e[26]||(e[26]=t("th",null,"Tipo de documento",-1)),t("td",null,s(o.document_type),1)]),t("tr",null,[e[27]||(e[27]=t("th",null,"Número de documento",-1)),t("td",null,s(o.document_number),1)]),t("tr",null,[e[28]||(e[28]=t("th",null,"Fecha de nacimiento",-1)),t("td",null,s(o.birthdate),1)]),t("tr",null,[e[29]||(e[29]=t("th",null,"Nacionalidad",-1)),t("td",null,s(o.nationality),1)])])])])]),t("div",oe,[e[35]||(e[35]=t("h3",{class:"subtitulo"},"Situación Laboral",-1)),t("div",le,[t("div",ne,[t("table",ae,[t("tbody",null,[t("tr",null,[e[31]||(e[31]=t("th",{style:{width:"50%"}},"Tipo de empleo",-1)),t("td",null,s(o.employment_status),1)]),t("tr",null,[e[32]||(e[32]=t("th",null,"Salario mensual (COP)",-1)),t("td",null,s(o.monthly_salary)+"$",1)]),t("tr",null,[e[33]||(e[33]=t("th",null,"Fecha de inicio en el trabajo actual",-1)),t("td",null,s(o.start_current_job_date),1)]),o.employment_status=="Independiente"?(n(),l("tr",se,[e[34]||(e[34]=t("th",null,"Descripción de su actividad economica",-1)),t("td",null,s(o.business_description)+"$",1)])):i("",!0)])])])])]),t("div",re,[e[51]||(e[51]=t("h3",{class:"subtitulo"},"Documentos Requeridos (PDF)",-1)),t("div",ie,[t("div",de,[t("table",ue,[t("tbody",null,[t("tr",null,[e[37]||(e[37]=t("th",null,"Documento de identidad",-1)),t("td",ce,[o.document_id?(n(),l("a",{key:0,onClick:v(r=>y(o.document_id_url,"Documento de identidad"),["prevent"])},e[36]||(e[36]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,pe)):i("",!0)])]),o.employment_status==="Independiente"?(n(),l(c,{key:0},[t("tr",null,[e[39]||(e[39]=t("th",null,"Certificado de cámara de comercio",-1)),t("td",null,[o.document_certf?(n(),l("a",{key:0,onClick:v(r=>y(o.document_certf_url,"Certificado de cámara de comercio"),["prevent"])},e[38]||(e[38]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,fe)):i("",!0)])]),(n(),l(c,null,m(3,r=>t("tr",{key:r},[t("th",null,"Extracto bancario "+s(r),1),t("td",null,[o[`document_pay_${r}`]?(n(),l("a",{key:0,onClick:v(g=>y(o[`document_pay_${r}_url`],`Extracto bancario ${r}`),["prevent"])},e[40]||(e[40]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,me)):i("",!0)])])),64))],64)):o.employment_status==="Pensionado"?(n(),l(c,{key:1},[t("tr",null,[e[42]||(e[42]=t("th",null,"Constancia de Pension",-1)),t("td",null,[o.document_certf?(n(),l("a",{key:0,onClick:v(r=>y(o.document_certf_url,"Constancia de Pension"),["prevent"])},e[41]||(e[41]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,ve)):i("",!0)])]),(n(),l(c,null,m(3,r=>t("tr",{key:r},[t("th",null,"Extracto bancario "+s(r),1),t("td",null,[o[`document_pay_${r}`]?(n(),l("a",{key:0,onClick:v(g=>y(o[`document_pay_${r}_url`],`Extracto bancario ${r}`),["prevent"])},e[43]||(e[43]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,be)):i("",!0)])])),64))],64)):(n(),l(c,{key:2},[t("tr",null,[e[45]||(e[45]=t("th",null,"Certificado laboral",-1)),t("td",null,[o.document_certf?(n(),l("a",{key:0,onClick:v(r=>y(o.document_certf_url,"Certificado laboral"),["prevent"])},e[44]||(e[44]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,ye)):i("",!0)])]),(n(),l(c,null,m(3,r=>t("tr",{key:r},[t("th",null,"Desprendible de pago "+s(r),1),t("td",null,[o[`document_pay_${r}`]?(n(),l("a",{key:0,onClick:v(g=>y(o[`document_pay_${r}_url`],`Desprendible de pago ${r}`),["prevent"])},e[46]||(e[46]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,_e)):i("",!0)])])),64))],64)),o.document_other?(n(),l("tr",he,[e[48]||(e[48]=t("th",null,"Otro Documento",-1)),t("td",ge,[t("a",{onClick:v(r=>y(o.document_other_url,"Otro Documento"),["prevent"])},e[47]||(e[47]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,ke)])])):i("",!0),o.document_asked?(n(),l("tr",xe,[e[50]||(e[50]=t("th",null,"Documento Solicitado",-1)),t("td",we,[t("a",{onClick:v(r=>y(o.document_asked_url,"Documento Solicitado"),["prevent"])},e[49]||(e[49]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,Ce)])])):i("",!0)])])])])]),o.guarantor_full_name!=""?(n(),l("div",Te,[e[57]||(e[57]=t("h3",{class:"subtitulo"},"📝 Información del Fiador",-1)),t("div",Pe,[t("div",Ae,[t("table",Ee,[t("tbody",null,[t("tr",null,[e[52]||(e[52]=t("th",{style:{width:"50%"}},"Nombre completo del fiador",-1)),t("td",null,s(o.guarantor_full_name),1)]),t("tr",null,[e[53]||(e[53]=t("th",null,"Tipo de documento",-1)),t("td",null,s(o.guarantor_document_type),1)]),t("tr",null,[e[54]||(e[54]=t("th",null,"Número de documento",-1)),t("td",null,s(o.guarantor_document_number),1)]),t("tr",null,[e[56]||(e[56]=t("th",null,"Certificado de libertad",-1)),t("td",null,[o.guarantor_property_cert?(n(),l("a",{key:0,onClick:v(r=>y(o.guarantor_property_cert_url,"Certificado de libertad"),["prevent"])},e[55]||(e[55]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,Ie)):i("",!0)])])])])])])])):i("",!0),o.additional_incomes.length>0?(n(),l("div",$e,[e[60]||(e[60]=t("h3",{class:"subtitulo",style:{"margin-bottom":"0"}},"➕ Ingresos Adicionales",-1)),t("div",De,[t("div",Se,[t("table",Ne,[e[59]||(e[59]=t("thead",null,[t("tr",null,[t("th",null,"Monto mensual"),t("th",null,"Fuente de ingreso"),t("th",null,"Certificado de ingreso (PDF)")])],-1)),t("tbody",null,[(n(!0),l(c,null,m(o.additional_incomes,(r,g)=>(n(),l("tr",{key:g},[t("td",null,s(r.monthly_amount)+"$",1),t("td",null,s(r.description),1),t("td",null,[r.income_cert?(n(),l("a",{key:0,onClick:v(h=>y(r.income_cert_url,"Certificado de ingreso"),["prevent"])},e[58]||(e[58]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,Me)):i("",!0)])]))),128))])])])])])):i("",!0)])]))),128)),t("div",ze,[e[62]||(e[62]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0px"}},"👥 Personas que Vivirán en la Propiedad",-1)),t("div",qe,[t("div",Be,[t("table",Fe,[e[61]||(e[61]=t("thead",null,[t("tr",null,[t("th",null,"Nombre"),t("th",null,"Apellido"),t("th",null,"Número de documento"),t("th",null,"Ocupación"),t("th",null,"Edad (años)"),t("th",null,"Parentesco")])],-1)),t("tbody",null,[(n(!0),l(c,null,m(d.value.cohabitants,(o,f)=>(n(),l("tr",{key:f},[t("td",null,s(o.first_name),1),t("td",null,s(o.last_name),1),t("td",null,s(o.document_number),1),t("td",null,s(o.occupation),1),t("td",null,s(o.age),1),t("td",null,s(o.relationship),1)]))),128))])])])])]),d.value.pets.length>0?(n(),l("div",He,[e[64]||(e[64]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0px"}},"🐾 Mascotas",-1)),t("div",Ve,[t("div",je,[t("table",Le,[e[63]||(e[63]=t("thead",null,[t("tr",null,[t("th",null,"Tipo de mascota"),t("th",null,"Sexo"),t("th",null,"Tamaño")])],-1)),t("tbody",null,[(n(!0),l(c,null,m(d.value.pets,(o,f)=>(n(),l("tr",{key:f},[t("td",null,s(o.type),1),t("td",null,s(o.sex),1),t("td",null,s(o.size),1)]))),128))])])])])])):i("",!0),d.value.parking_needs.length>0?(n(),l("div",Ge,[e[68]||(e[68]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0"}},"🚗 Parqueaderos Requeridos",-1)),t("div",Oe,[t("div",Re,[t("table",Ue,[e[67]||(e[67]=t("thead",null,[t("tr",null,[t("th",null,"Tipo de Vehiculo"),t("th",null,"Cantidad")])],-1)),t("tbody",null,[D("Carro")>0?(n(),l("tr",Je,[e[65]||(e[65]=t("td",null,"Carro",-1)),t("td",null,s(D("Carro")),1)])):i("",!0),D("Moto")>0?(n(),l("tr",Ke,[e[66]||(e[66]=t("td",null,"Moto",-1)),t("td",null,s(D("Moto")),1)])):i("",!0)])])])])])):i("",!0),d.value?(n(),l("div",Qe,[e[69]||(e[69]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0"}},"Comentario",-1)),t("div",We,[N(t("input",{type:"text",class:"entrada","onUpdate:modelValue":e[4]||(e[4]=o=>d.value.comment=o),placeholder:"Add a comment...",style:{flex:"1","background-color":"white","margin-top":"15px !important",border:"2px solid #987f53 !important"}},null,512),[[K,d.value.comment]]),t("button",{class:"boton-secundario",onClick:Z,disabled:!d.value.comment}," Update ",8,Xe)])])):i("",!0)])])])):i("",!0)]),z.value?(n(),l("div",{key:1,class:"modal",onClick:v(q,["self"])},[t("div",Ye,[t("div",{class:"modal-header"},[e[70]||(e[70]=t("span",{class:"modal-title"},"Documentos/Informacion solicitada",-1)),t("button",{class:"close-button",onClick:q},"×")]),t("div",Ze,[t("div",to,[t("div",eo,[e[71]||(e[71]=t("label",{class:"etiqueta"},"Por favor, especifique qué documentos o información se requieren:",-1)),N(t("textarea",{class:"entrada","onUpdate:modelValue":e[5]||(e[5]=o=>A.value=o),rows:"5",style:{width:"100%",resize:"vertical"},placeholder:"Por favor, especifique qué documentos o información se requieren:"},null,512),[[K,A.value]])])]),t("div",oo,[t("button",{class:"boton-primario",onClick:Y,disabled:!A.value,style:{padding:"0.75rem 1.5rem"}}," Enviar ",8,lo)])])])])):i("",!0),H.value?(n(),l("div",{key:2,class:"modal",onClick:v(U,["self"])},[t("div",no,[t("div",ao,[t("span",so,s(R.value),1),t("button",{class:"close-button",onClick:U},"×")]),t("div",ro,[t("iframe",{src:V.value,width:"100%",height:"100%",style:{border:"none"}},null,8,io)])])])):i("",!0)],64))}},vo=ct(uo,[["__scopeId","data-v-00813ae4"]]);export{vo as default};
