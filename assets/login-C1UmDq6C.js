import{_,r as i,c,b as h,d as e,w as v,v as x,e as f,f as b,n as w,g as k,h as S,i as C,u as E,o as u}from"./index-Dnv4c8ld.js";import{S as p}from"./sweetalert2.esm.all-B0Dix5B2.js";const I={class:"container d-flex justify-content-center align-items-center",style:{height:"auto"}},V={key:0,class:"position-fixed start-0 w-100 h-100 d-flex justify-content-center align-items-center",style:{background:"rgba(0, 0, 0, 0.5)","z-index":"1050",top:"0px"}},N={class:"seccion",style:{width:"100%","max-width":"500px"}},z={class:"contenedor-campos"},B={class:"grupo-campos"},K={class:"campo mb-4"},T={class:"campo mb-4 position-relative"},U=["type"],j=["disabled"],q={key:0},D={key:1},M={__name:"login",setup(P){const y=E(),g=new S,m=C(),a=i(""),r=i(""),o=i(!1),l=i(!1),d=async()=>{if(!a.value||!r.value){p.fire("Error","Por favor ingresa tu correo y contrase√±a.","error");return}o.value=!0,await g.login({email:a.value,password:r.value}).then(t=>{t&&t.success?(localStorage.setItem("token",t.token),localStorage.setItem("user",JSON.stringify(t.user)),m.commit("setToken",t.token),m.commit("setUser",t.user),y.push({name:"facturas"})):p.fire("Error","El correo o la contrase√±a son incorrectos.","error")}).catch(t=>{p.fire("Error","El correo o la contrase√±a son incorrectos.","error")}).finally(()=>{o.value=!1})};return(t,s)=>(u(),c("div",I,[o.value?(u(),c("div",V,s[3]||(s[3]=[e("div",{class:"spinner-border text-light",role:"status"},[e("span",{class:"visually-hidden"})],-1)]))):h("",!0),e("div",N,[s[7]||(s[7]=e("div",{class:"col-12 text-center mb-4"},[e("h2",{class:"titulo-seccion"},"üîê Iniciar Sesi√≥n")],-1)),e("div",z,[e("div",B,[e("div",K,[s[4]||(s[4]=e("label",{class:"etiqueta"},"Correo Electr√≥nico",-1)),v(e("input",{type:"email",class:"entrada","onUpdate:modelValue":s[0]||(s[0]=n=>a.value=n),placeholder:"tu@email.com",onKeyup:f(d,["enter"])},null,544),[[x,a.value]])]),e("div",T,[s[5]||(s[5]=e("label",{class:"etiqueta"},"Contrase√±a",-1)),v(e("input",{type:l.value?"text":"password",class:"entrada pe-5","onUpdate:modelValue":s[1]||(s[1]=n=>r.value=n),placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",onKeyup:f(d,["enter"])},null,40,U),[[b,r.value]]),e("span",{class:"toggle-eye",onClick:s[2]||(s[2]=n=>l.value=!l.value),style:{position:"absolute",top:"38px",right:"16px",cursor:"pointer","font-size":"1.2rem",color:"#aaa"}},[e("i",{class:w(l.value?"fas fa-eye-slash":"fas fa-eye")},null,2)])]),e("button",{class:"boton-primario w-100",onClick:d,disabled:o.value},[o.value?(u(),c("span",D,s[6]||(s[6]=[e("span",{class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},null,-1),k(" Cargando... ")]))):(u(),c("span",q,"Iniciar Sesi√≥n"))],8,j)])])])]))}},O=_(M,[["__scopeId","data-v-02c8aaa6"]]);export{O as default};
