import{_ as b,r as a,j as x,l as h,u as y,c as d,b as g,d as t,F as A,o as p}from"./index-CKTdGYVq.js";import{S as i}from"./sweetalert2.esm.all-B0Dix5B2.js";import{t as k}from"./tenantApplication-BAOxGvNT.js";const D={key:0,class:"position-fixed start-0 w-100 h-100 d-flex justify-content-center align-items-center",style:{background:"rgba(0, 0, 0, 0.5)","z-index":"1050",top:"0px"}},F={class:"container"},w={class:"seccion"},E={class:"grupo-campos"},I={class:"campo"},B=["disabled"],S={__name:"document_asked",setup(q){const m=new k,u=h(),n=y(),s=a(null),r=a(null),l=a(!1),c=a(!1);x(()=>{const{tenApId:o,code:e}=u.query;if(!o||!e){n.push({name:"404"});return}Number(o)*3141===Number(e)?l.value=!0:n.push({name:"404"})});function f(o){const e=o.target.files[0];e&&e.type==="application/pdf"?s.value=e:(i.fire("Error","Por favor seleccione un archivo PDF","error"),v())}function v(){s.value=null,r.value&&(r.value.value="")}async function _(){if(c.value=!0,!s.value||!l.value)return;const o=new FormData;o.append("document_asked",s.value),o.append("tenApId",u.query.tenApId);try{(await m.submitAdditionalInfo(o)).success?(await i.fire({icon:"success",title:"Env칤o Exitoso",text:"Su documento ha sido enviado correctamente. El equipo de Malgo se pondr치 en contacto con usted pronto.",confirmButtonText:"Aceptar"}),n.push({name:"login"})):(await i.fire({icon:"error",title:"Documento ya enviado",text:"Este documento ya fue enviado anteriormente.",confirmButtonText:"Aceptar"}),n.push({name:"404"}))}catch{await i.fire({icon:"error",title:"Error en el env칤o",text:"Hubo un error al enviar su documento. Por favor intente nuevamente.",confirmButtonText:"Aceptar"}),n.push({name:"404"})}c.value=!1}return(o,e)=>(p(),d(A,null,[c.value?(p(),d("div",D,e[0]||(e[0]=[t("div",{class:"spinner-border text-light",role:"status"},[t("span",{class:"visually-hidden"})],-1)]))):g("",!0),t("div",F,[t("div",w,[e[3]||(e[3]=t("h2",{class:"titulo-seccion"},"游늯 Solicitud de Anexi칩n de Documentos",-1)),t("div",E,[t("div",I,[e[1]||(e[1]=t("label",{class:"etiqueta"},"Subir documento PDF",-1)),t("input",{type:"file",class:"entrada",accept:".pdf",onChange:f,ref_key:"fileInput",ref:r},null,544)]),e[2]||(e[2]=t("p",{class:"ayuda"}," Toda la informaci칩n/documentos solicitados en el correo electr칩nico deben combinarse en un solo archivo PDF. Solo se permite un env칤o, as칤 que aseg칰rese de incluir todo lo necesario. ",-1)),t("button",{class:"boton-primario mt-3",onClick:_,disabled:!s.value}," Enviar Documento ",8,B)])])])],64))}},C=b(S,[["__scopeId","data-v-05508a0a"]]);export{C as default};
