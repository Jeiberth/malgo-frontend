import{_ as pt,j as ft,r as p,i as mt,k as vt,m as j,c as n,b as i,d as t,w as S,x as J,F as u,q as m,n as A,t as r,g as B,v as K,s as y,o as a,y as bt}from"./index-DztlOQcq.js";import{S as d}from"./sweetalert2.esm.all-B0Dix5B2.js";import{t as yt}from"./tenantApplication-DOpm11-Q.js";const gt={key:0,class:"position-fixed start-0 w-100 h-100 d-flex justify-content-center align-items-center",style:{background:"rgba(0, 0, 0, 0.5)","z-index":"1050",top:"0px"}},ht={class:"container"},_t={key:0,class:"row seccion mt-4 mainSeccion"},xt={class:"col-12 mb-4"},kt={class:"row"},wt={class:"col-6"},Ct={class:"campo"},Tt=["value"],At={class:"col-6"},Et={class:"campo"},Pt=["value"],It={class:"col-12"},Dt={class:"grupo-campos"},$t={style:{"overflow-x":"auto","background-color":"transparent"}},Nt={class:"table table-bordered table-hover table-striped align-middle text-center custom-big-table",style:{"border-radius":"25px",overflow:"hidden"}},St=["onClick"],Bt={key:0},Mt={style:{display:"grid","grid-template-columns":"repeat(3, 1fr)",gap:"0px","justify-items":"center"}},zt={style:{"font-size":"12px","line-height":"1","background-color":"white",color:"black",padding:"3px","border-radius":"25px","margin-left":"5px","font-weight":"700"}},qt={key:0},Ht={class:"col-12"},Ft={class:"pagination"},Vt=["onClick"],Lt={key:1,class:"row"},jt={class:"col-12"},Ot={class:"formulario"},Rt={class:"seccion"},Ut={class:"contenedor-campos",style:{gap:"10px !important"}},Gt={class:"grupo-campos"},Jt={style:{"overflow-x":"auto"}},Kt={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden"}},Qt={class:"encabezado-seccion row"},Wt={key:0,class:"titulo-seccion",style:{"padding-left":"18px"}},Xt={key:1,class:"titulo-seccion",style:{"padding-left":"18px"}},Yt={class:"contenedor-campos"},Zt={class:"grupo-campos"},te={style:{"overflow-x":"auto"}},ee={class:"table table-striped custom-border-table table-bordered",style:{"border-radius":"25px",overflow:"hidden"}},oe={class:"grupo-campos"},le={class:"campos-grid"},ne={style:{"overflow-x":"auto"}},ae={class:"table table-striped custom-border-table table-bordered",style:{"border-radius":"25px",overflow:"hidden"}},re={key:0},se={class:"grupo-campos"},ie={class:"campos-grid"},de={style:{"overflow-x":"auto"}},ue={class:"table table-striped custom-border-table table-bordered table-docs",style:{"border-radius":"25px",overflow:"hidden"}},ce={style:{width:"auto"}},pe=["onClick"],fe=["onClick"],me=["onClick"],ve=["onClick"],be=["onClick"],ye=["onClick"],ge=["onClick"],he={key:3},_e={style:{width:"auto"}},xe=["onClick"],ke={key:4},we={style:{width:"auto"}},Ce=["onClick"],Te={key:0,class:"grupo-campos fiador"},Ae={class:"campos-grid"},Ee={style:{"overflow-x":"auto"}},Pe={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden"}},Ie=["onClick"],De={key:1,class:"grupo-campos"},$e={class:"campos-grid",style:{"margin-top":"20px"}},Ne={style:{"overflow-x":"auto"}},Se={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0"}},Be=["onClick"],Me={class:"seccion"},ze={class:"campos-grid",style:{padding:"24px","margin-top":"20px"}},qe={style:{"overflow-x":"auto"}},He={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0px"}},Fe={key:0,class:"seccion"},Ve={class:"campos-grid",style:{padding:"24px","margin-top":"20px"}},Le={style:{"overflow-x":"auto"}},je={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0px"}},Oe={key:1,class:"seccion"},Re={class:"campos-grid",style:{padding:"24px","margin-top":"20px"}},Ue={style:{"overflow-x":"auto"}},Ge={class:"table table-striped table-bordered custom-border-table",style:{"border-radius":"25px",overflow:"hidden","margin-bottom":"0px"}},Je={key:0},Ke={key:1},Qe={key:2,class:"seccion"},We={class:"d-flex align-items-center gap-3"},Xe=["disabled"],Ye={class:"modal-content",style:{"max-width":"600px",height:"auto !important"}},Ze={class:"modal-body",style:{padding:"20px"}},to={class:"grupo-campos",style:{"margin-bottom":"0",border:"none",background:"transparent",padding:"0px !important","border-radius":"0 !important"}},eo={class:"campo"},oo={class:"d-flex justify-content-end mt-3"},lo=["disabled"],no={class:"modal-content"},ao={class:"modal-header"},ro={class:"modal-title"},so={class:"modal-body"},io=["src"],uo={__name:"applications",setup(co){const Q=new vt,C=new yt,k=mt();ft(async()=>{v.value=!0,N.value=k.getters.getProperties,N.value.length==0&&await Q.getAllProperties().then(l=>{l&&l.success?(k.commit("setProperties",l.data),N.value=k.getters.getProperties):d.fire("Error","Hubo un error, intenta de nuevo","error")}).catch(l=>{d.fire("Error","Hubo un error, intenta de nuevo","error")}),b.value=k.getters.getTenantApplications,b.value.length==0&&await C.getTenantApplications().then(l=>{l.success?(b.value=l.data,k.commit("setTenantApplications",b.value)):d.fire("Error","Hubo un error, intenta despues.","error")}).catch(l=>{d.fire("Error","Hubo un error, intenta despues.","error")}),v.value=!1});function W(l){return l?new Date(l).toLocaleString():null}const M=p(!1),E=p("");function X(){E.value="",M.value=!0}function z(){M.value=!1}async function Y(){v.value=!0;try{const l=c.value.financial_responsibles[0];await C.requestAdditionalInfo({id:_.value,email:l.email,name:l.full_name,message:E.value}),d.fire({icon:"success",title:"Solicitud Enviada",text:"Su solicitud de información adicional ha sido enviada correctamente",confirmButtonText:"Aceptar"}),z()}catch{d.fire("Error","No se pudo enviar la solicitud","error")}finally{v.value=!1}}async function Z(){try{const l=await C.updateComment({id:_.value,comment:c.value.comment});l&&l.success||d.fire("Error","No se pudo actualizar el comentario","error")}catch{d.fire("Error","No se pudo actualizar el comentario","error")}}async function tt(){const l=await d.fire({title:"¿Estás seguro?",text:"¿Deseas aprobar este aplicante?",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, aprobar",cancelButtonText:"No, cancelar",reverseButtons:!0});v.value=!0,l.isConfirmed&&await C.approveTenantApplication({tenantID:_.value}).then(e=>{e&&e.success?e.success?(b.value=e.data,k.commit("setTenantApplications",b.value),d.fire({icon:"success",title:"Aplicacion Aprobada",text:"La aplicacion ha sido aprobada exitosamente y el usuario ha sido notificado",confirmButtonText:"Aceptar"})):d.fire("Error","Hubo un error, intenta despues.","error"):d.fire("Error","Hubo un error, intenta despues.","error")}).catch(e=>{d.fire("Error","Hubo un error, intenta despues.","error")}),v.value=!1}async function et(){const l=await d.fire({title:"¿Estás seguro?",text:"¿Deseas eliminar este aplicante? Esto eliminara toda su informacion de la base de datos y NO notificara el usario",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, eliminar",cancelButtonText:"No, cancelar",reverseButtons:!0});v.value=!0,l.isConfirmed&&await C.deleteTenantApplication({tenantID:_.value}).then(e=>{e&&e.success?e.success?(b.value=e.data,k.commit("setTenantApplications",b.value),d.fire({icon:"success",title:"Aplicacion Eliminada",text:"La aplicacion ha sido eliminada exitosamente y el usuario NO ha sido notificado",confirmButtonText:"Aceptar"})):d.fire("Error","Hubo un error, intenta despues.","error"):d.fire("Error","Hubo un error, intenta despues.","error")}).catch(e=>{d.fire("Error","Hubo un error, intenta despues.","error")}),v.value=!1}async function ot(){const l=await d.fire({title:"¿Estás seguro?",text:"¿Deseas rechazar este aplicante? Esto eliminara toda su informacion de la base de datos y notificara el usario de la decision",icon:"warning",showCancelButton:!0,confirmButtonText:"Sí, rechazar",cancelButtonText:"No, cancelar",reverseButtons:!0});v.value=!0,l.isConfirmed&&await C.denyTenantApplication({tenantID:_.value}).then(e=>{e&&e.success?e.success?(b.value=e.data,k.commit("setTenantApplications",b.value),d.fire({icon:"success",title:"Aplicacion Rechazada",text:"La aplicacion ha sido rechazada exitosamente y el usuario ha sido notificado",confirmButtonText:"Aceptar"})):d.fire("Error","Hubo un error, intenta despues.","error"):d.fire("Error","Hubo un error, intenta despues.","error")}).catch(e=>{d.fire("Error","Hubo un error, intenta despues.","error")}),v.value=!1}async function lt(){v.value=!0,await C.saveTenantApplication({tenantID:_.value}).then(l=>{l&&l.success?l.success?(b.value=l.data,k.commit("setTenantApplications",b.value),d.fire({icon:"success",title:"Aplicacion Guardada",text:"La aplicacion ha sido guardada exitosamente",confirmButtonText:"Aceptar"})):d.fire("Error","Hubo un error, intenta despues.","error"):d.fire("Error","Hubo un error, intenta despues.","error")}).catch(l=>{d.fire("Error","Hubo un error, intenta despues.","error")}),v.value=!1}const O=j(()=>(w.value=1,b.value.filter(l=>{const e=!P.value||P.value==="Todos"||l.status===P.value,o=!I.value||I.value==="Todas"||l.property_id===I.value;return e&&o}))),q=p(10),w=p(1),D=j(()=>Math.ceil(O.value.length/q.value)),R=j(()=>{const l=(w.value-1)*q.value,e=l+q.value;return O.value.slice(l,e)}),H=l=>{l>=1&&l<=D.value&&(w.value=l)},v=p(!1),c=p([]),_=p(null),F=p(!1),V=p(""),U=p("");function g(l,e){V.value=l,U.value=e,F.value=!0}function G(){F.value=!1,V.value=""}function $(l){return c.value.parking_needs.filter(e=>e.vehicle_type===l).length}function nt(l){c.value=l,_.value=l.id}function at(){c.value=null,_.value=null}function rt(l){return l.reduce((e,o)=>{var x;let f=parseFloat(o.monthly_salary||0),s=((x=o.additional_incomes)==null?void 0:x.reduce((h,T)=>h+parseFloat(T.monthly_amount||0),0))||0;return e+f+s},0)}function st(l){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP"}).format(l)}function L(l){return l.financial_responsibles.find(e=>e.principal)}function it(l){switch(l.toLowerCase()){case"perro":return"fa-solid fa-dog";case"gato":return"fa-solid fa-cat";case"pez":return"fa-solid fa-fish";case"ave":return"fa-solid fa-dove";case"conejo":return"fa-solid fa-carrot";case"tortuga":return"fa-solid fa-shield-cat";case"iguana":return"fa-solid fa-dragon";case"gallina":return"fa-solid fa-kiwi-bird";default:return"fa-solid fa-paw"}}function dt(l){switch(l.toLowerCase()){case"hogar":return"fa-solid fa-house-user";case"empleado":return"fa-solid fa-briefcase";case"independiente":return"fa-solid fa-user-tie";case"estudiante":return"fa-solid fa-user-graduate";case"pensionado":return"fa-solid fa-person-cane";default:return"fa-solid fa-user"}}function ut(l){switch(l.toLowerCase()){case"carro":return"fa-solid fa-car";case"moto":return"fa-solid fa-motorcycle";default:return"fa-solid fa-car-side"}}const P=p(""),I=p(""),ct=p(["Todos","Pendiente","Pendiente Contrato","Pendiente Rechazado","Guardado","Guardado Rechazado","En Curso","Terminado"]),N=p(),b=p([]);return(l,e)=>(a(),n(u,null,[v.value?(a(),n("div",gt,e[6]||(e[6]=[t("div",{class:"spinner-border text-light",role:"status"},[t("span",{class:"visually-hidden"})],-1)]))):i("",!0),t("div",ht,[_.value?i("",!0):(a(),n("div",_t,[e[17]||(e[17]=t("div",{class:"col-12"},[t("h2",{class:"titulo-seccion"},"📄Solicitudes de Arrendamiento")],-1)),t("div",xt,[t("div",kt,[t("div",wt,[t("div",Ct,[S(t("select",{class:"entrada pr-2","onUpdate:modelValue":e[0]||(e[0]=o=>P.value=o),required:"",style:{"background-color":"#f8f5f0"}},[e[7]||(e[7]=t("option",{value:"",selected:"",disabled:""},"Status",-1)),(a(!0),n(u,null,m(ct.value,o=>(a(),n("option",{key:o,value:o},r(o),9,Tt))),128))],512),[[J,P.value]])])]),t("div",At,[t("div",Et,[S(t("select",{class:"entrada","onUpdate:modelValue":e[1]||(e[1]=o=>I.value=o),required:"",style:{"background-color":"#f8f5f0"}},[e[8]||(e[8]=t("option",{value:"",selected:"",disabled:""},"Propiedades",-1)),e[9]||(e[9]=t("option",{value:"Todas"},"Todas",-1)),(a(!0),n(u,null,m(N.value,o=>(a(),n("option",{key:o,value:o.sku},r(o.sku),9,Pt))),128))],512),[[J,I.value]])])])])]),t("div",It,[t("div",Dt,[t("div",$t,[t("table",Nt,[e[14]||(e[14]=t("thead",{style:{"background-color":"gray !important"}},[t("tr",null,[t("th",null,"Aplicante Principal"),t("th",null,"Co-solicitantes"),t("th",null,"Propiedad"),t("th",null,"Mudanza"),t("th",null,"Ingreso Total"),t("th",null,"Mascotas"),t("th",null,"Inquilinos"),t("th",null,"Parqueadero"),t("th",null,"Status"),t("th",null,"Fecha de solicitud")])],-1)),t("tbody",null,[(a(!0),n(u,null,m(R.value,o=>{var f,s,x;return a(),n("tr",{key:o.id,onClick:h=>nt(o),style:{cursor:"pointer"}},[t("td",null,[t("div",null,[t("strong",null,r((f=L(o))==null?void 0:f.full_name),1),e[11]||(e[11]=t("br",null,null,-1)),t("small",null,[B(r((s=L(o))==null?void 0:s.birthdate),1),e[10]||(e[10]=t("br",null,null,-1)),B(r((x=L(o))==null?void 0:x.nationality),1)])])]),t("td",null,[o.financial_responsibles.length>1?(a(),n("div",Bt,[e[12]||(e[12]=t("i",{class:"fa-solid fa-handshake mr-1",style:{color:"black"}},null,-1)),B(" "+r(o.financial_responsibles.length-1),1)])):i("",!0)]),t("td",null,r(o.property.sku),1),t("td",null,r(o.move_in_date),1),t("td",null,r(st(rt(o.financial_responsibles))),1),t("td",null,[(a(!0),n(u,null,m(o.pets,(h,T)=>(a(),n("span",{key:T,class:"mx-1"},[t("i",{class:A(it(h.type)),style:bt({color:h.sex==="Macho"?"#007bff":"#e83e8c"})},null,6)]))),128))]),t("td",null,[t("div",Mt,[(a(!0),n(u,null,m(o.cohabitants,(h,T)=>(a(),n("span",{key:T,class:"occupation",style:{display:"flex","align-items":"center","justify-content":"center"}},[t("i",{class:A(dt(h.occupation)),style:{"font-size":"16px",color:"black"}},null,2),t("span",zt,r(h.age),1)]))),128))])]),t("td",null,[(a(!0),n(u,null,m(o.parking_needs,(h,T)=>(a(),n("span",{key:T,class:"mx-1"},[t("i",{class:A([ut(h.vehicle_type),"text-dark"])},null,2)]))),128))]),t("td",null,r(o.status),1),t("td",null,r(W(o.created_at)??"—"),1)],8,St)}),128)),R.value.length===0?(a(),n("tr",qt,e[13]||(e[13]=[t("td",{colspan:"10",class:"text-center py-4"},"No hay aplicaciones",-1)]))):i("",!0)])])])])]),t("div",Ht,[t("nav",null,[t("ul",Ft,[t("li",{class:A(["page-item",{disabled:w.value===1}])},[t("a",{class:"page-link",onClick:e[2]||(e[2]=o=>H(w.value-1))},e[15]||(e[15]=[t("i",{class:"fa fa-arrow-left"},null,-1)]))],2),(a(!0),n(u,null,m(D.value,o=>(a(),n("li",{class:A(["page-item",{active:w.value===o}]),key:o},[t("a",{class:"page-link",onClick:f=>H(o)},r(o),9,Vt)],2))),128)),t("li",{class:A(["page-item",{disabled:w.value===D.value||D.value===0}])},[t("a",{class:"page-link",onClick:e[3]||(e[3]=o=>H(w.value+1))},e[16]||(e[16]=[t("i",{class:"fa fa-arrow-right"},null,-1)]))],2)])])])])),_.value?(a(),n("div",Lt,[t("div",{class:"col-12 mb-3 d-flex justify-content-between align-items-center"},[t("button",{style:{width:"40px",height:"40px",border:"0px solid","border-radius":"25px","margin-bottom":"10px","background-color":"#8f754f",color:"white","font-weight":"600"},onClick:at},e[18]||(e[18]=[t("i",{class:"fa fa-arrow-left"},null,-1)])),t("div",null,[t("button",{style:{"margin-right":"10px","background-color":"#28a745",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:tt}," Aprobar "),t("button",{style:{"margin-right":"10px","background-color":"#dc3545",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:ot}," Denegar "),t("button",{style:{"margin-right":"10px","background-color":"#e29d36",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:lt}," Guardar "),t("button",{style:{"margin-right":"10px","background-color":"rgb(255 0 0)",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:et}," Eliminar "),t("button",{style:{"background-color":"#1f2687",color:"white",border:"none",padding:"8px 16px","border-radius":"25px","font-weight":"600"},onClick:X}," Solicitar Doc ")])]),t("div",jt,[t("div",Ot,[t("div",Rt,[e[22]||(e[22]=t("h2",{class:"titulo-seccion"},"📌 Información de la Propiedad",-1)),t("div",Ut,[t("div",Gt,[t("div",Jt,[t("table",Kt,[t("tbody",null,[t("tr",null,[e[19]||(e[19]=t("th",{style:{width:"50%"}},"Propiedad de interés",-1)),t("td",null,r(c.value.property.sku),1)]),t("tr",null,[e[21]||(e[21]=t("th",null,"Fecha deseada de mudanza",-1)),t("td",null,[B(r(c.value.move_in_date)+" ",1),e[20]||(e[20]=t("br",null,null,-1))])])])])])])])]),(a(!0),n(u,null,m(c.value.financial_responsibles,(o,f)=>(a(),n("div",{class:"seccion",key:f},[t("div",Qt,[f==0?(a(),n("h2",Wt,"👤 Aplicante principal")):i("",!0),f>0?(a(),n("h2",Xt,"👤 Co-solicitante #"+r(f),1)):i("",!0)]),t("div",Yt,[t("div",Zt,[e[30]||(e[30]=t("h3",{class:"subtitulo"},"Información Personal",-1)),t("div",te,[t("table",ee,[t("tbody",null,[t("tr",null,[e[23]||(e[23]=t("th",{style:{width:"50%"}},"Nombre completo",-1)),t("td",null,r(o.full_name),1)]),t("tr",null,[e[24]||(e[24]=t("th",null,"Correo electrónico",-1)),t("td",null,r(o.email),1)]),t("tr",null,[e[25]||(e[25]=t("th",null,"Número de teléfono",-1)),t("td",null,r(o.phone_number),1)]),t("tr",null,[e[26]||(e[26]=t("th",null,"Tipo de documento",-1)),t("td",null,r(o.document_type),1)]),t("tr",null,[e[27]||(e[27]=t("th",null,"Número de documento",-1)),t("td",null,r(o.document_number),1)]),t("tr",null,[e[28]||(e[28]=t("th",null,"Fecha de nacimiento",-1)),t("td",null,r(o.birthdate),1)]),t("tr",null,[e[29]||(e[29]=t("th",null,"Nacionalidad",-1)),t("td",null,r(o.nationality),1)])])])])]),t("div",oe,[e[35]||(e[35]=t("h3",{class:"subtitulo"},"Situación Laboral",-1)),t("div",le,[t("div",ne,[t("table",ae,[t("tbody",null,[t("tr",null,[e[31]||(e[31]=t("th",{style:{width:"50%"}},"Tipo de empleo",-1)),t("td",null,r(o.employment_status),1)]),t("tr",null,[e[32]||(e[32]=t("th",null,"Salario mensual (COP)",-1)),t("td",null,r(o.monthly_salary)+"$",1)]),t("tr",null,[e[33]||(e[33]=t("th",null,"Fecha de inicio en el trabajo actual",-1)),t("td",null,r(o.start_current_job_date),1)]),o.employment_status=="Independiente"?(a(),n("tr",re,[e[34]||(e[34]=t("th",null,"Descripción de su actividad economica",-1)),t("td",null,r(o.business_description)+"$",1)])):i("",!0)])])])])]),t("div",se,[e[51]||(e[51]=t("h3",{class:"subtitulo"},"Documentos Requeridos (PDF)",-1)),t("div",ie,[t("div",de,[t("table",ue,[t("tbody",null,[t("tr",null,[e[37]||(e[37]=t("th",null,"Documento de identidad",-1)),t("td",ce,[o.document_id?(a(),n("a",{key:0,onClick:y(s=>g(o.document_id_url,"Documento de identidad"),["prevent"])},e[36]||(e[36]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,pe)):i("",!0)])]),o.employment_status==="Independiente"?(a(),n(u,{key:0},[t("tr",null,[e[39]||(e[39]=t("th",null,"Certificado de cámara de comercio",-1)),t("td",null,[o.document_certf?(a(),n("a",{key:0,onClick:y(s=>g(o.document_certf_url,"Certificado de cámara de comercio"),["prevent"])},e[38]||(e[38]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,fe)):i("",!0)])]),(a(),n(u,null,m(3,s=>t("tr",{key:s},[t("th",null,"Extracto bancario "+r(s),1),t("td",null,[o[`document_pay_${s}`]?(a(),n("a",{key:0,onClick:y(x=>g(o[`document_pay_${s}_url`],`Extracto bancario ${s}`),["prevent"])},e[40]||(e[40]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,me)):i("",!0)])])),64))],64)):o.employment_status==="Pensionado"?(a(),n(u,{key:1},[t("tr",null,[e[42]||(e[42]=t("th",null,"Constancia de Pension",-1)),t("td",null,[o.document_certf?(a(),n("a",{key:0,onClick:y(s=>g(o.document_certf_url,"Constancia de Pension"),["prevent"])},e[41]||(e[41]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,ve)):i("",!0)])]),(a(),n(u,null,m(3,s=>t("tr",{key:s},[t("th",null,"Extracto bancario "+r(s),1),t("td",null,[o[`document_pay_${s}`]?(a(),n("a",{key:0,onClick:y(x=>g(o[`document_pay_${s}_url`],`Extracto bancario ${s}`),["prevent"])},e[43]||(e[43]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,be)):i("",!0)])])),64))],64)):(a(),n(u,{key:2},[t("tr",null,[e[45]||(e[45]=t("th",null,"Certificado laboral",-1)),t("td",null,[o.document_certf?(a(),n("a",{key:0,onClick:y(s=>g(o.document_certf_url,"Certificado laboral"),["prevent"])},e[44]||(e[44]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,ye)):i("",!0)])]),(a(),n(u,null,m(3,s=>t("tr",{key:s},[t("th",null,"Desprendible de pago "+r(s),1),t("td",null,[o[`document_pay_${s}`]?(a(),n("a",{key:0,onClick:y(x=>g(o[`document_pay_${s}_url`],`Desprendible de pago ${s}`),["prevent"])},e[46]||(e[46]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,ge)):i("",!0)])])),64))],64)),o.document_other?(a(),n("tr",he,[e[48]||(e[48]=t("th",null,"Otro Documento",-1)),t("td",_e,[t("a",{onClick:y(s=>g(o.document_other_url,"Otro Documento"),["prevent"])},e[47]||(e[47]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,xe)])])):i("",!0),o.document_asked?(a(),n("tr",ke,[e[50]||(e[50]=t("th",null,"Documento Solicitado",-1)),t("td",we,[t("a",{onClick:y(s=>g(o.document_asked_url,"Documento Solicitado"),["prevent"])},e[49]||(e[49]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,Ce)])])):i("",!0)])])])])]),o.guarantor_full_name!=""?(a(),n("div",Te,[e[57]||(e[57]=t("h3",{class:"subtitulo"},"📝 Información del Fiador",-1)),t("div",Ae,[t("div",Ee,[t("table",Pe,[t("tbody",null,[t("tr",null,[e[52]||(e[52]=t("th",{style:{width:"50%"}},"Nombre completo del fiador",-1)),t("td",null,r(o.guarantor_full_name),1)]),t("tr",null,[e[53]||(e[53]=t("th",null,"Tipo de documento",-1)),t("td",null,r(o.guarantor_document_type),1)]),t("tr",null,[e[54]||(e[54]=t("th",null,"Número de documento",-1)),t("td",null,r(o.guarantor_document_number),1)]),t("tr",null,[e[56]||(e[56]=t("th",null,"Certificado de libertad",-1)),t("td",null,[o.guarantor_property_cert?(a(),n("a",{key:0,onClick:y(s=>g(o.guarantor_property_cert_url,"Certificado de libertad"),["prevent"])},e[55]||(e[55]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,Ie)):i("",!0)])])])])])])])):i("",!0),o.additional_incomes.length>0?(a(),n("div",De,[e[60]||(e[60]=t("h3",{class:"subtitulo",style:{"margin-bottom":"0"}},"➕ Ingresos Adicionales",-1)),t("div",$e,[t("div",Ne,[t("table",Se,[e[59]||(e[59]=t("thead",null,[t("tr",null,[t("th",null,"Monto mensual"),t("th",null,"Fuente de ingreso"),t("th",null,"Certificado de ingreso (PDF)")])],-1)),t("tbody",null,[(a(!0),n(u,null,m(o.additional_incomes,(s,x)=>(a(),n("tr",{key:x},[t("td",null,r(s.monthly_amount)+"$",1),t("td",null,r(s.description),1),t("td",null,[s.income_cert?(a(),n("a",{key:0,onClick:y(h=>g(s.income_cert_url,"Certificado de ingreso"),["prevent"])},e[58]||(e[58]=[t("i",{class:"fas fa-file-pdf"},null,-1)]),8,Be)):i("",!0)])]))),128))])])])])])):i("",!0)])]))),128)),t("div",Me,[e[62]||(e[62]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0px"}},"👥 Personas que Vivirán en la Propiedad",-1)),t("div",ze,[t("div",qe,[t("table",He,[e[61]||(e[61]=t("thead",null,[t("tr",null,[t("th",null,"Nombre"),t("th",null,"Apellido"),t("th",null,"Número de documento"),t("th",null,"Ocupación"),t("th",null,"Edad (años)"),t("th",null,"Parentesco")])],-1)),t("tbody",null,[(a(!0),n(u,null,m(c.value.cohabitants,(o,f)=>(a(),n("tr",{key:f},[t("td",null,r(o.first_name),1),t("td",null,r(o.last_name),1),t("td",null,r(o.document_number),1),t("td",null,r(o.occupation),1),t("td",null,r(o.age),1),t("td",null,r(o.relationship),1)]))),128))])])])])]),c.value.pets.length>0?(a(),n("div",Fe,[e[64]||(e[64]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0px"}},"🐾 Mascotas",-1)),t("div",Ve,[t("div",Le,[t("table",je,[e[63]||(e[63]=t("thead",null,[t("tr",null,[t("th",null,"Tipo de mascota"),t("th",null,"Sexo"),t("th",null,"Tamaño")])],-1)),t("tbody",null,[(a(!0),n(u,null,m(c.value.pets,(o,f)=>(a(),n("tr",{key:f},[t("td",null,r(o.type),1),t("td",null,r(o.sex),1),t("td",null,r(o.size),1)]))),128))])])])])])):i("",!0),c.value.parking_needs.length>0?(a(),n("div",Oe,[e[68]||(e[68]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0"}},"🚗 Parqueaderos Requeridos",-1)),t("div",Re,[t("div",Ue,[t("table",Ge,[e[67]||(e[67]=t("thead",null,[t("tr",null,[t("th",null,"Tipo de Vehiculo"),t("th",null,"Cantidad")])],-1)),t("tbody",null,[$("Carro")>0?(a(),n("tr",Je,[e[65]||(e[65]=t("td",null,"Carro",-1)),t("td",null,r($("Carro")),1)])):i("",!0),$("Moto")>0?(a(),n("tr",Ke,[e[66]||(e[66]=t("td",null,"Moto",-1)),t("td",null,r($("Moto")),1)])):i("",!0)])])])])])):i("",!0),c.value?(a(),n("div",Qe,[e[69]||(e[69]=t("h2",{class:"titulo-seccion",style:{"margin-bottom":"0"}},"Comentario",-1)),t("div",We,[S(t("input",{type:"text",class:"entrada","onUpdate:modelValue":e[4]||(e[4]=o=>c.value.comment=o),placeholder:"Add a comment...",style:{flex:"1","background-color":"white","margin-top":"15px !important",border:"2px solid #987f53 !important"}},null,512),[[K,c.value.comment]]),t("button",{class:"boton-secundario",onClick:Z,disabled:!c.value.comment}," Update ",8,Xe)])])):i("",!0)])])])):i("",!0)]),M.value?(a(),n("div",{key:1,class:"modal",onClick:y(z,["self"])},[t("div",Ye,[t("div",{class:"modal-header"},[e[70]||(e[70]=t("span",{class:"modal-title"},"Documentos/Informacion solicitada",-1)),t("button",{class:"close-button",onClick:z},"×")]),t("div",Ze,[t("div",to,[t("div",eo,[e[71]||(e[71]=t("label",{class:"etiqueta"},"Por favor, especifique qué documentos o información se requieren:",-1)),S(t("textarea",{class:"entrada","onUpdate:modelValue":e[5]||(e[5]=o=>E.value=o),rows:"5",style:{width:"100%",resize:"vertical"},placeholder:"Por favor, especifique qué documentos o información se requieren:"},null,512),[[K,E.value]])])]),t("div",oo,[t("button",{class:"boton-primario",onClick:Y,disabled:!E.value,style:{padding:"0.75rem 1.5rem"}}," Enviar ",8,lo)])])])])):i("",!0),F.value?(a(),n("div",{key:2,class:"modal",onClick:y(G,["self"])},[t("div",no,[t("div",ao,[t("span",ro,r(U.value),1),t("button",{class:"close-button",onClick:G},"×")]),t("div",so,[t("iframe",{src:V.value,width:"100%",height:"100%",style:{border:"none"}},null,8,io)])])])):i("",!0)],64))}},vo=pt(uo,[["__scopeId","data-v-0deed54f"]]);export{vo as default};
